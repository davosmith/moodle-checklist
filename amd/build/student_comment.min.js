define ("mod_checklist/student_comment",["jquery","core/ajax","core/notification","core/str"],function(a,b,c,d){return{init:function init(f){var g=a(".studentcommentinput");Y.log("cmid: "+f);for(var h=[],j=function(j){var e=g[j];h[j]=e.value;e.addEventListener("blur",function(g){var e=g.target.value.trim();if(h[j]===e){Y.log("not going to update server, nothing changed. Current comment value: "+e)}else{Y.log("Sending this student comment to server");var i=g.target.classList[0],k=i.substr(i.lastIndexOf("studentcommentid")+"studentcommentid".length),l="#checklistspinnerstudentcomment"+k;a(l).css("display","inline-block");b.call([{methodname:"mod_checklist_update_student_comment",args:{comment:{commenttext:e,checklistitemid:k,cmid:f}}}])[0].done(function(b){a(l).css("display","none");if(!0===b){Y.log("updated comment successfully.");h[j]=e}else{c.addNotification({message:d.get_string("update_student_comment_failed","mod_checklist"),type:"error"})}}).fail(c.exception)}})},k=0;k<g.length;k+=1){j(k)}}}});
//# sourceMappingURL=student_comment.min.js.map
