define ("mod_checklist/student_comment",["jquery","core/ajax","core/notification","core/str"],function(a,b,c,d){return{init:function init(f){var g=a(".studentcommentinput");Y.log("cmid: "+f);for(var h=[],j=function(j){var e=g[j];h[j]=e.value;e.addEventListener("blur",function(g){if(h[j]===g.target.value){Y.log("not going to update server, nothing changed. Current comment value: "+g.target.value)}else{Y.log("Sending this student comment to server");var e=g.target.classList[0],i=e.substr(e.lastIndexOf("studentcommentid")+"studentcommentid".length),k="#checklistspinnerstudentcomment"+i;a(k).css("display","inline-block");var l={comment:{commenttext:g.target.value,checklistitemid:i,cmid:f}};b.call([{methodname:"mod_checklist_update_student_comment",args:l}])[0].done(function(b){a(k).css("display","none");if(!0===b){Y.log("updated comment successfully.");h[j]=g.target.value}else{c.addNotification({message:d.get_string("update_student_comment_failed","mod_checklist"),type:"error"})}}).fail(c.exception)}})},k=0;k<g.length;k+=1){j(k)}}}});
//# sourceMappingURL=student_comment.min.js.map
